<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RHS | Dashboard</title>
    <link rel="stylesheet" href="CSS/dashboard.css" />
    <link
      rel="shortcut icon"
      href="../public/IMG/icone.ico"
      type="image/x-icon"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script>
    <script src="http://www.chartjs.org/samples/latest/utils.js"></script>
    <style>
      canvas {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
    </style>
  </head>

  <!-- <body onload=" atualizarFeed()"> -->

  <body>
    <!--  inicio do menu da dashboard  -->

    <div class="menu">
      <h1><span style="color: #0f7826">RHS</span>olutions</h1>
      <div class="div_fotouser">
        <img
          id="img-foto"
          src="IMG/Dashboard/adicionar-usuario (1).png"
          alt=""
        />
      </div>
      <div class="hello">
        <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
        <br />
      </div>

      <span id="menu-separacao">Menu</span>
      <div class="separacao"></div>

      <div class="btn-navbar">
        <div class="flexNavBar">
        
          <a class="outrasPaginas" href="">
            <img src="IMG/Dashboard/painel-de-controle-verde.png" alt="" />
            Dashboards
          </a>


       
          <a class="outrasPaginas" href=""  >
            <img src="IMG/Dashboard/sino.png" alt="" />
            Notificações
          </a>
        

        
          <a class="outrasPaginas" href="">
            <img src="IMG/Dashboard/configuracoes.png" alt="" />
            Configurações
          </a>
        
          <a class="btn-logout" href="HomePage.html">SAIR</a>

      </div>
    </div>
    </div>
    <!-- fim do menu da dashboard -->

    <div class="dash">
      <div class="tituloDash">
        <h1 id="tituloDash"> Dashboard Geral </h1>
        <h1 id="tituloAlt"></h1>
      </div>
      <div id="graftemp" class="div_graficos">
        <div class="div_grafico">
          <span>Análise de Temperatura(22º a 29ºC) nos Habitats</span>
          <canvas id="luminosidade"></canvas>
        </div>
        <div id="graflumi" class="div_grafico">
          <span>Média de Luminosidade(120 a 900) nos Habitats</span>
          <canvas id="lm35Temperatura"></canvas>
        </div>
      </div>
      <div id="temphabi" class="div_graficos" style="display: none;">
        <div class="div_grafico">
          <span>Variação da Luminosidade a cada 6 horas</span>
          <canvas id="luminosidadeHabi"></canvas>
        </div>
        <div id="lumihabi" class="div_grafico" style="display: none;">
          <span>Variação da Temperatura a cada 6 horas</span>
          <canvas id="lm35TemperaturaHabi"></canvas>
        </div>
      </div>
      <section class="section_KPIs">
        <div id="KPI1habi" class="KPIhabi" style="display: none;">
            <span class="spanTitulo2">Habitats em alerta</span>
            <div class="div_KPI2content">
                <span class="spanPorcentagemKPI2" style="font-size: 25px; margin-top: 20px;">Habitat 5 e Habitat 18</span>
                <div class="divTextoKPI2">
                </div>
            </div>
        </div>
        <div class="div_KPIs">
          <div class="div_KPI" id="KPI1">
            <span class="spanTitulo1"> Quantidade de habitats em alerta</span>
            <div class="div_KPI1content">
            <span class="spanPorcentagemKPI1">10%</span>
            <div class="divTextoKPI1">02/20</div>
            </div>
          </div>
          <div id="KPI2habi" class="KPIhabi" style="display: none;">
            <span class="spanTitulo2" style="height: 100px" >Tempetatura e Luminosidade atual</span>
            <div class="div_KPI2content">
                <span class="spanPorcentagemKPI2">18ºC e 702 Lux </span>
                <div class="divTextoKPI2">
                </div>
            </div>
        </div>
          <div class="div_KPI" id="KPI2" >
            <span class="spanTitulo2"> Ultimo alerta gerado</span>
            <div class="div_KPI2content">
                <span class="spanPorcentagemKPI2">Habitat 18</span>
                <div class="divTextoKPI2">
                </div>
                09/05/2024 às 15:31
            </div>
        </div>
          <div class="div_KPI" id="KPI3"><span class="spanTitulo3">Média da Temperatura</span>
            <div class="div_KPI3content">
                <div class="divTextoKPI3">
                    <img src="./IMG/Dashboard/temperatura-alta.png" alt="">
                    <span id="span_media_temp">21.5%</span>
                </div>
            </div></div>
          <div class="div_KPI" id="KPI4">
            <span class="spanTitulo4">Média da Luminosidade</span>
            <div class="div_KPI4content">
                <div class="divTextoKPI4">
                    <img src="./IMG/Dashboard/temperaturas.png" alt="">
                    <span id="span_media_lumi">777 Lux</span>
                </div>
            </div></div>
        </div>
      </section>
      <div class="search">
        <input
          type="search"
          class="search__input"
          id="input_search"
          placeholder="Search..."
        />
        <div class="search__fechar">
          <!-- <img id="limpar_input" src="./IMG/Dashboard/botao-fechar.png" onclick="document.getElementById('input_search').value = '';"> -->
        </div>
        <div class="search__icon">
          <img src="./IMG/Dashboard/lupa.png" />
        </div>
      </div>
      <div class="div_filtro">
        <div class="div_lista">
          <ul id="ul_lista" class="habitat_lista">
            <li id="li_habitat" class="li_habitat" id="habitat1"><a>Habitat 1</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat2"><a>Habitat 2</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat3"><a>Habitat 3</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat4"><a>Habitat 4</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat5" style="color: red;" onclick="mudarDash()"><a>Habitat 5</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat6"><a>Habitat 6</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat7"><a>Habitat 7</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat8"><a>Habitat 8</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat9"><a>Habitat 9</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat10"><a>Habitat 10</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat11"><a>Habitat 11</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat12"><a>Habitat 12</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat13"><a>Habitat 13</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat14"><a>Habitat 14</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat15"><a>Habitat 15</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat16"><a>Habitat 16</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat17"><a>Habitat 17</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat18"  style="color: red;"><a>Habitat 18</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat19"><a>Habitat 19</a></li>
            <li id="li_habitat" class="li_habitat" id="habitat20"><a>Habitat 20</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
  <script>
    const contextoLm35Temperatura = document
      .getElementById("lm35Temperatura")
      .getContext("2d");

    var lm35Temperatura = new Chart(contextoLm35Temperatura, {
      type: "pie",
      data: {
        labels: [
          "Abaixo da média",
          "Na média",
          "Acima da média"
        ],
        datasets: [
          {
            label: "Luminosidade",
            data: [1, 18, 1],
            borderwidht: 1,
            backgroundColor: ["#75b9d7", "#ffd166", "#ff4d4d"],
            borderColor: ["#75b9d7", "#ffd166", "#ff4d4d"]
          },
        ],
      },
      options: {
        scales: {
          xAxes: [
            // {
            //   distribution: "series",
            //   ticks: {
            //     beginAtZero: true,
            //   },
            // },
          ],
          yAxes: [
            // {
            //   scaleLabel: {
            //     display: true,
            //     labelString: "Temperatura",
            //   },
            //   ticks: {
            //     beginAtZero: true,
            //   },
            // },
          ],
        },
        animation: {
          duration: 0,
        },
      },
    });

    const contextoLuminosidade = document
      .getElementById("luminosidade")
      .getContext("2d");
    var luminosidade = new Chart(contextoLuminosidade, {
      type: "bar",
      data: {
        labels: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho"],
        datasets: [
          {
            label: "Abaixo da média",
            data: [7, 12, 8, 7, 2, 8],
            borderwidht: 1,
            backgroundColor: "#75b9d7", 
          },
          {
            label: "Na média",
            data: [5, 4, 7, 3, 6, 5],
            borderwidht: 1,
            backgroundColor: "#ffd166", 
          },
          {
            label: "Acima da média",
            data: [9, 8, 10, 3, 5, 1],
            borderwidht: 1,
            backgroundColor: "#ff4d4d",
          },
        ],
      },
      options: {
        scales: {
          xAxes: [
            {
              distribution: "series",
              ticks: {
                beginAtZero: true,
              },
            },
          ],
          yAxes: [
            {
              scaleLabel: {
                display: true,
                labelString: "Quantidade de habitats",
              },
              ticks: {
                beginAtZero: true,
              },
            },
          ],
        },
        animation: {
          duration: 0,
        },
      },
    });

    const barraDePesquisa = document.querySelector("input"); //<input/>
    const lista = document.querySelector("ul"); //<ul></ul>
    const itens = document.querySelectorAll("li"); //<li><li/>

    barraDePesquisa.addEventListener("input", () => {
      let valorDigitado = barraDePesquisa.value.toLowerCase();
      itens.forEach((item) => {
        if (item.textContent.toLowerCase().includes(valorDigitado)) {
          item.style.display = "block";
        } else {
          item.style.display = "none";
        }
      });
    });

    // function limpar_input() {
    //     document.getElementById("input_search").value = '' ;
    // }

    function mudarDash() {
        tituloAlt.innerHTML = "Habitat 5"
        tituloDash.style.display = 'none'
        KPI1.style.display = 'none'
        KPI2.style.display = 'none'
        graftemp.style.display = 'none'
        graflumi.style.display = 'none'
        temphabi.style.display = 'flex'
        lumihabi.style.display = 'flex'
        KPI1habi.style.display = 'flex'
        KPI2habi.style.display = 'flex'

        const contextoLm35Temperatura = document
      .getElementById("lm35TemperaturaHabi")
      .getContext("2d");

    var lm35Temperatura = new Chart(contextoLm35Temperatura, {
      type: "line",
      data: {
        labels: ['13H', '14H', '15H', '16H', '17H', '18H'],
                        datasets: [{
                        label: 'Temperatura',
                        data: [22, 29, 21, 24, 14, 23, 31],
                        borderwidht: 1,
                        fill: false,
                        tension: 0.1,
                        pointStyle: 'circle',
                        backgroundColor: '#ffd166',
                        borderColor: '#ffd166'
          },
        ],
      },
      options: {
        scales: {
          xAxes: [
            {
              distribution: "series",
              ticks: {
                beginAtZero: true,
              },
            },
          ],
          yAxes: [
            {
              scaleLabel: {
                display: true,
                labelString: "Temperatura",
              },
              ticks: {
                beginAtZero: true,
              },
            },
          ],
        },
        animation: {
          duration: 0,
        },
      },
    });

    const contextoLuminosidade = document
      .getElementById("luminosidadeHabi")
      .getContext("2d");
    var luminosidade = new Chart(contextoLuminosidade, {
      type: "bar",
      data: {
        labels: ["13H", "14H", "15H", "16H", "17H", "18H"],
        datasets: [
          {
            label: "Luminosidade",
            data: [702, 754, 810, 520, 793, 831],
            borderwidht: 1,
            backgroundColor: "#75b9d7"
          },
        ],
      },
      options: {
        scales: {
          xAxes: [
            {
              distribution: "series",
              ticks: {
                beginAtZero: true,
              },
            },
          ],
          yAxes: [
            {
              scaleLabel: {
                display: true,
                labelString: "Luminosidade",
              },
              ticks: {
                beginAtZero: true,
              },
            },
          ],
        },
        animation: {
          duration: 0,
        },
      },
    });
    }

  </script>
</html>

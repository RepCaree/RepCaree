<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RHS | Cadastro</title>
    <link rel="stylesheet" href="CSS/cadastroLogin.css" />
    <link
      rel="shortcut icon"
      href="../public/IMG/icone.ico"
      type="image/x-icon"
    />
  </head>

  <body>
    <a href="HomePage.html"
      ><img class="img_seta" src="IMG/Cadastro/seta-direita.png" alt=""
    /></a>
    <div class="div_flex">
    <div class="container" id="container">
        <div class="content1 sign-in-container">
          <form class="login">
            <h2 class="tituloForm1">Crie sua Conta</h2>
            <p class="texto">Ou crie use seu e-mail para se cadastrar</p>
            <div class="socialMedia">
              <img src="IMG/Cadastro/social.png" alt="" />
              <img src="IMG/Cadastro/linkedin.png" alt="" />
              <img src="IMG/Cadastro/twitter.png" alt="" />
            </div>

            <div class="inputs">
            <div class="div-input">
              <input type="text" placeholder="Nome" id="input_nome" />
            </div>
            <div id="mensagemErroNome" class="mensagensErros"></div>

            <div class="div-input">
              <input type="text" placeholder="E-mail" id="input_email" />
            </div>
            <div id="mensagemErroEmail" class="mensagensErros"></div>

            <div class="div-input">
              <input type="password" placeholder="Senha" id="input_senha" />
            </div>
            <div id="mensagemErroSenha" class="mensagensErros"></div>
          </div>

            <a onclick="validarCadastro()" class="btn1">
              Cadastrar
            </a>
            <a class="esqueciSenha" href="#">Esqueci a senha</a>

            <div id="mensagemGeral" style="padding: 5px 10px"></div>
          </form>
        </div>

        <div class="overlay-container">
          <div class="overlay">
            <div class="content2 contentDir">
              <h2 class="tituloInform">Olá, faça parte da RHS!</h2>
              <p class="texto2">
                Cadastre-se com seu e-mail para se juntar a nós! <br /><br />
                Caso <b>possui </b> uma conta, clique no botão abaixo para fazer
                seu login.
              </p>
              <a href="login2.html" onclick="logar()" class="btn2" id="irCadastro">
                Login</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
      function validarCadastro(){
        let senha = input_senha.value;
        let email = input_email.value;
        let nome = input_nome.value;
        var emailValido = false;
        let nomeValido = false;

        mensagemErroNome.innerHTML = "";
        mensagemErroEmail.innerHTML = "";
        mensagemErroSenha.innerHTML = "";

          if (nome == '' || nome.length <= 3)
          { mensagemErroNome.innerHTML = "Nome inválido";} else {nomeValido = true;}
          if (senha == "") {
              mensagemErroSenha.innerHTML = "Senha inválido";
          }
          
              if (email.indexOf("@") !== -1 && email.indexOf(".com") !== -1 && email.length > 10) {
                emailValido = true;
              }
              else {
                  mensagemErroEmail.innerHTML = "Email inválido"
              }
               if(emailValido == true){
         const caracterEspecial = [`!`, `@`, "#", "$", "%", "&", "*"];
         const numeros = /[0-9]/;
         const letrasMinusculas = /[a-z]/;
         const letrasMaiuscula = /[A-z]/;
         const tamanhoSenha = senha.length >= 8;

         let temLetraMinuscula = false;
         let temLetraMaiuscula = false;
         let temNumero = false;
         let temCaracteres = false;
         

        if(tamanhoSenha){
      for (let i = 0; i < senha.length; i++) {
         var indexof = senha[i];
            if(letrasMinusculas.test(indexof)){temLetraMinuscula = true;}
            if(letrasMaiuscula.test(indexof)){temLetraMaiuscula = true;}
            if(numeros.test(indexof)){temNumero = true}
            if(caracterEspecial.includes(indexof)){temCaracteres = true;}
        }
        if(temNumero && temLetraMinuscula && temLetraMaiuscula && temCaracteres){
            setTimeout(function() {
            window.location.replace('login2.html');
        }, 1000);
            } 
  }}else {
                mensagemErroSenha.innerHTML =
             "Senha inválida";
            }

          }
</script>

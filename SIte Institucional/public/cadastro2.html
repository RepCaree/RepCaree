<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RHS | Cadastro</title>
    <link rel="stylesheet" href="CSS/cadastroLogin.css">
    <link rel="shortcut icon" href="../public/IMG/icone.ico" type="image/x-icon">

</head>

<body>
    <a href="HomePage.html"><img class="img_seta" src="IMG/Cadastro/seta-direita.png" alt=""></a>
    <div id="card_concluido" class="card_concluido" style="display: none;">
        <span id="concluído"></span>
    </div>
    <div class="div_flex">
        <div class="container" id="container">
            <div class="content1  sign-in-container">
                <form class="login">
                    <h2 class="tituloForm1">Crie sua Conta</h2>
                    <p class="texto"> Ou crie use seu e-mail para se cadastrar</p>
                    <div class="socialMedia">
                        <img src="IMG/Cadastro/social.png" alt="">
                        <img src="IMG/Cadastro/linkedin.png" alt="">
                        <img src="IMG/Cadastro/twitter.png" alt="">
                    </div>
                    <label class="label-input">
                        <input type="text" placeholder="Nome" id="n_nome">
                    </label>
                    <label class="label-input">
                        <input type="text" placeholder="E-mail" id="e_email">
                    </label>
                    <div id="mensagemErroEmail"></div>
                    <label class="label-input">
                        <input type="password" placeholder="Senha" id="s_senha">
                    </label>

                    <a class="esqueciSenha" href="#">Esqueci a senha</a>
                    <button onclick="cadastrar()" class="btn btnLogin1">Cadastrar</button>

                    <div id="mensagemGeral" style="padding: 5px 10px;"></div>
                </form>
            </div>


            <div class="overlay-container">
                <div class="overlay">
                    <div class="content2 contentDir">
                        <h2 class="tituloInform">Olá, faça parte da RHS!</h2>
                        <p class="texto2">Cadastre-se com seu e-mail para se juntar a nós! <br><br>
                            Caso <b>possui </b> uma conta, clique no botão abaixo para fazer seu login.</p>
                        <a href="login2.html"><button onclick="logar" class="btn2">Login</button></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    function cadastrar() {
        const nome = n_nome.value;
        const email = e_email.value;
        const senha = s_senha.value;
        let tamanhoSenha = senha.length;
        let senhaValida = false;

        // checando se o nome, o email e a senha do usuario estão vazias, 
        if (nome == "" ||
            email == "" ||
            senha == "") {
            // caso estejam, será emitido uma mensagem via innerHTML
            alert(`Preencha todos os campos`);
        } else {
            // checando as se o email possui @ ou .
            if (email.indexOf("@") == -1 ||
                email.indexOf(".") == -1) {
                // caso não tenha, será emitido uma mensagem via innerHTML
                alert("Email inválido, deve conter '@' e '.'");
                return false;
            }
            // checando os caracteres especiais 
            if (senha.indexOf("!") !== -1 ||
                senha.indexOf('@') !== -1 ||
                senha.indexOf('#') !== -1 ||
                senha.indexOf('$') !== -1 ||
                senha.indexOf('%') !== -1 ||
                senha.indexOf('&') !== -1 ||
                senha.indexOf('*') !== -1) {

            } else {
                alert("A senha deve conter pelo menos um caractere especial.")
            }
            if (senha.indexOf('0') !== -1 ||
                senha.indexOf('1') !== -1 ||
                senha.indexOf('2') !== -1 ||
                senha.indexOf('3') !== -1 ||
                senha.indexOf('4') !== -1 ||
                senha.indexOf('5') !== -1 ||
                senha.indexOf('6') !== -1 ||
                senha.indexOf('7') !== -1 ||
                senha.indexOf('8') !== -1 ||
                senha.indexOf('9') !== -1) {

            } else {
                alert("A senha deve conter pelo menos um número ")
            }

            /*loop para verificar se a senha possui pelo menos 8 caracteres*/
            for (let contador = 0; contador < tamanhoSenha; contador++) {
                if (tamanhoSenha >= 8) {
                    senhaValida = true;
                    break;
                }
            }
            if (!senhaValida) {
                alert("A senha deve conter pelo menos 8 caracteres");
                return false;
            } 

            setTimeout(function() {
                window.location.href = "login2.html"
            }, 100)
           
    }
}
</script>